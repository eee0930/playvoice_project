<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"   
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{/layout/playvoicebook_layout2}">

<head>
<title>플레이보이스북 Level 1 Stage 3 - 플레이보이스 | Playvoice</title>
   
<!-- search console & sns meta tags -->
<th:block th:insert="~{/incl/meta_fragment2::meta}"
	th:with="metaTitle = '플레이보이스북 (PlayvoiceBook) - 플레이보이스 | Playvoice', 
	metaDescription = '동사는 크게 일반 동사(do동사)와 be 동사로 나눌 수 있습니다.
	앞서 배웠던 am, are, is 등은 be 동사로 분류되고 주로 \'누가(무엇) ~이다.\' 로 해석되어 집니다. 
	이에 반해 일반 동사는 주로 \'누가(무엇) ~하다\'로 해석되어 집니다. 대부분 주어의 동작이나 행동을 표현하는데 사용됩니다.', 
	metaImage = '/images/common/characters/playvoicebook.jpg'"></th:block>
	
<link rel="stylesheet" th:href="@{/css/app/playvoicebook.css}">
<link rel="stylesheet" th:href="@{/css/app/comment.css}">
<link rel="stylesheet" th:href="@{/css/app/playvoice_sponsor.css}">
<link rel="stylesheet" th:href="@{/css/app/playvoice_ad.css}">
<script th:src="@{/js/app/playvoicebook.js}"></script>
<script th:src="@{/js/app/touchswipe/jquery.touchSwipe.min.js}"></script>
   
<script th:inline="javascript">
var passedSentenceNum = 0; //학습한 문장 순서
var stage_sentence_size = 5 - 1; //문장 총 갯수
//------------------------------------------------
var sentenceIndex = 0;
var audio;
var loop;
var playorder = 0;
var chkStat = 0; //-1: 둘다 체크해제, 0: 반복재생, 1: 자동넘김
var playList;
var fileList = [];
var book;
var timeout;
$(document).ready(function(){
	
	// [한글 예문 모달의 캐릭터 종류 설정 후 모달 띄우기]-----------------------------------------
	var characterActionIndex = Math.floor(Math.random() * 3 + 1);;
	var characterFaceIndex = Math.floor(Math.random() * 4 + 1);;
	$("#stageKorInfo_modal").find(".character-section").addClass("act" + characterActionIndex);
	$("#stageKorInfo_modal").find(".bird-face-section").addClass("cha" + characterFaceIndex);
	$("#stageKorInfo_modal").modal({
		show : true
	});
	
	// [한글 예문 모달 캐릭터 클릭시 사라지기 (예문 읽는 데 방해될 경우)]------------------------------
	$(".character-section").click(function(){
		$(this).addClass("bully");
		setTimeout(function() {
			$(".character-section").fadeOut(300);
		}, 500);
	});
	
	/* ------------------------------[버튼 클릭 시 화면 이동] */
	$("#send_sentence, #send_sentence_xs, #send_comment, #send_comment_xs").click(function(){
		var id = $(this).attr("id");
		scrollDiv(id);
	});
	
	/*[# th:if="${korList != null AND #lists.size(korList) > 0}"]*/
	// [모달 : 스테이지 다음 한글 예문 보기]------------------------------------------------
	var stageKorListSize = /*[[${#lists.size(korList)}]]*/ 0;
	var stageKorSentenceIndex = 1;
	$("#nextKorSent").click(function(){
		if(stageKorSentenceIndex == stageKorListSize - 1) {
			$(this).hide();
			$("#stageKorInfo_modal .hide-section").hide();
			$("#stageKorInfo_modal #start_btn").show();
		}
		$(".stageKorSentenceList .stageKorSentence").removeClass("active");
		$(".stageKorSentenceList .stageKorSentence").eq(stageKorSentenceIndex).addClass("active");
		stageKorSentenceIndex++;
		$("#stageKorInfo_modal .progress-num span").text(stageKorSentenceIndex);
	});
	/*[/]*/
	
	
	// [스테이지 목표, 전체 예문 div 열기]-----------------------------------------------
	$(".viewStageInfoBtn").click(function(){
		var infoName = $(this).attr("data-infoName");
		var targetDiv = $("#" + infoName + "_div,#" + infoName + "_div_xs");
		if(targetDiv.is(":visible")) {
			$(this).removeClass("active");
			targetDiv.slideUp(100);
		} else {
			$(".viewStageInfoBtn").removeClass("active");
			$(".stage-objective").hide();
			$(this).addClass("active");
			$("#" + infoName + "_div,#" + infoName + "_div_xs").show();
		}
	});
	
	
	/* ---------------------------[다음 문장으로 넘어가기] */
	$("#prev, #prev_xs").click(function(){
		if(sentenceIndex != 0) {
			sentenceIndex--;
		} else {
			sentenceFirst();
			return;
		}
	});
	$("#next, #next_xs").click(function(){
		if(sentenceIndex == stage_sentence_size) {
			sentenceDone();
			return;
		} else {
			sentenceIndex++;
			if(passedSentenceNum < sentenceIndex){
				passedSentenceNum++;
				percent = (passedSentenceNum * 100)/stage_sentence_size;
			}
			$("#stage_progress, #stage_progress_xs").css("width", percent + "%");
		}
	});
	
	/* ---------------------------[mobile ver. 옆으로 넘기기] */
	$("#swipe_area").swipe( {
		//Generic swipe handler for all directions
		swipe:function(event, direction, distance, duration, fingerCount, fingerData, allowPageScroll) {
			if(direction == "left") {
				$("#next").click();
			} else if(direction == "right") {
				$("#prev").click();
			}
		},
		//Default is 75px, set to 0 for demo so any distance triggers swipe
		//threshold:17 //슬라이드 길이
	});
	
	/* ----------------------------[학습 종료] */
	$("#closeStage_btn, #closeStage_btn_xs").click(function(){
		stageEnd();
	});
	$("#stageInfo_modal").on("click", "#close_stage_modal", function(){
		stageEnd();
	})
	
	/* ----------------------------[재생횟수 선택] */
	$("#loopNum").change(function(){
		$("#loopNum_delay").fadeIn(100);
		setTimeout(function(){
			$("#loopNum_delay").fadeOut(100);
		}, 400);
	});
	
	$("#stageObj_btn, #stageObj_btn_xs").click(function(){
		if($("#stageObj_div").is(":visible") || $("#stageObj_div_xs").is(":visible")) {
			$("#stageObj_div, #stageObj_div_xs").fadeOut(100);
		} else {
			$("#stageObj_div, #stageObj_div_xs").fadeIn(100);
		}
	});
	
	// [모바일; 정지 및 재생 (플레이어 영역)]----------------------------------------------
	$("#pausePlayBtn_xs").click(function(){
		if($("#play_xs").is(":hidden")) {
			$(".pause-icon").fadeIn(100);
			setTimeout(function(){
				$(".pause-icon").fadeOut(110);
			},300);
		} else {
			$(".play-icon").fadeIn(100);
			setTimeout(function(){
				$(".play-icon").fadeOut(110);
			},300);
		}
	});
	
	// [모바일; 이전 문장 넘어가기 (플레이어 영역 클릭 시, 휴대폰이 클 경우 슬라이드 불편하여 기능 추가)]--------
	$("#prevSentBtn_xs").click(function(){
		$("#prev").click();
		$(".button-position .sent-icon.prev").fadeIn(100);
		setTimeout(function(){
			$(".button-position .sent-icon.prev").fadeOut(110);
		},300);
	});
	
	// [모바일; 다음 문장 넘어가지 (플레이어 영역)]------------------------------------------
	$("#nextSentBtn_xs").click(function(){
		$("#next").click();
		$(".button-position .sent-icon.next").fadeIn(100);
		setTimeout(function(){
			$(".button-position .sent-icon.next").fadeOut(110);
		},300);
	});
	
	$("#stageInfo_modal").on("click", "#stageEnd_btn", function(){
		location.href="/playvoiceBook/summary";
	});
	
	// [유튜브로 보기]--------------------------------------------------------------
	$("#viewYgPlayer, #viewYgPlayer_xs").click(function(){
		$("#sentenceVideoSection").show();
		$("#playerBodyDiv, #playerBodyDivxs").hide();
		$("#viewYgPlayer_xs").hide();
		$("#viewPvPlayer_xs").show();
	});
	$("#viewPvPlayer, #viewPvPlayer_xs").click(function(){
		$("#sentenceVideoSection").hide();
		$("#playerBodyDiv, #playerBodyDivxs").show();
		$("#viewPvPlayer_xs").hide();
		$("#viewYgPlayer_xs").show();
	});
	// [플레이어 화면 진입 시 header 아래로 스크롤 이동]--------------------------------------
	var playerOffset = $(".main-header").height();
	$('html, body').animate({scrollTop : playerOffset},1200);
	
});
function scrollDiv(id) {
	var offset = $("#my_" + id).offset();
    $('html, body').animate({scrollTop : offset.top - 30}, 400);
}

function sentenceDone() {
	$("#stageInfo_modal").find("#modal_msg").html("학습이 모두 끝났습니다.<br>다음 스테이지를 학습하시겠습니까?");
	var buttons = '<button type="button" class="btn btn-outline-info btn-sm float-right" data-dismiss="modal">첫문장으로</button>&nbsp;'
				+'<button type="button" class="btn btn-outline-info btn-sm float-right" id="close_stage_modal" data-dismiss="modal">학습종료</button>&nbsp;'
				+'<button type="button" class="btn btn-info btn-sm float-right" data-dismiss="modal">다음스테이지</button>';
	$("#stageInfo_modal").find(".modal-footer").html(buttons);
	$("#stageInfo_modal").modal({
		show : true
	});
}
function sentenceFirst() {
	$("#stageInfo_modal").find("#modal_msg").html("스테이지 첫 문장입니다.<br>다음 문장으로 넘어가 주세요.");
	var buttons = '<button type="button" class="btn btn-info btn-sm float-right" data-dismiss="modal">확인</button>';
	$("#stageInfo_modal").find(".modal-footer").html(buttons);
	$("#stageInfo_modal").modal({
		show : true
	});
}
function stageEnd() {
	if(passedSentenceNum < stage_sentence_size) {
		var modal_msg = '<div class="row no-gutters"><div class="col-sm text-center">' 
					+ '<img src=\"/images/common/characters/africa_sad.png\" width=\"100px\"></div>'
					+ '<div class="col-sm-auto px-2 align-self-center">학습이 아직 끝나지 않았습니다.<br>종료하겠습니까?</div>'
					+ '<div class="col-sm"></div></div>';
		$("#stageInfo_modal").find("#modal_msg").html(modal_msg);
		var buttons = '<button type="button" id="goStageList_btn" '
					+ 'class="btn btn-outline-info btn-sm" data-dismiss="modal">목록조회</button>&nbsp;&nbsp;'
					+ '<button type="button" class="btn btn-outline-info btn-sm" '
					+ 'data-dismiss="modal">다음 스테이지</button>&nbsp;&nbsp;'
					+ '<button id="stageEnd_btn" type="button" class="btn btn-info btn-sm" '
					+ 'data-dismiss="modal">학습 종료</button>';
		$("#stageInfo_modal").find(".modal-footer").html(buttons);
		$("#stageInfo_modal").modal({
			show : true
		});
		return;
	} else {
		return;
	}
}


</script>
</head>

<section layout:fragment="content">
<!--/* -------------------------------[Modal] -----------------------------*/-->
<div id="stageInfo_modal" class="modal fade" tabindex="-1" role="dialog" >
	<div class="modal-dialog" role="document">
		<div class="modal-content content-container">
			<div id="modal_msg" class="modal-body text-center">
				<div class="player-guide d-md-none">
					<i class="fa fa-square fa-fw"></i>
					왼쪽으로 슬라이드하면 다음 예문으로 바로 넘길 수 있습니다
				</div>
				<h5 class="modal-title text-info" style="margin-bottom: 15px;"><b>stage 목표</b></h5>
				<p class="explain text-left">
					동사는 크게 <b>일반 동사(do동사)</b>와 <b>be 동사</b>로 나눌 수 있습니다.<br>
					앞서 배웠던 am, are, is 등은 be 동사로 분류되고 주로 '누가(무엇) ~이다.' 로 해석되어 집니다.<br> 
					이에 반해 <b>일반 동사는 주로 '누가(무엇) ~하다'로 해석되어 집니다.</b> 대부분 주어의 동작이나 행동을 표현하는데 사용됩니다.<br>
					이때 동사는 표현을 구체화하기 위해 <b>'목적어', '보어', '부사구'</b> 등과 함께 사용할 수 있습니다. <br><br>
					이번 레벨에서는 <b>'동사+간단한 부사(구)'</b>를 함께 사용하는 문장들을 연습해 봅시다. <br><br>
					참고로 <b>'구(Phrase)'는 간단하게 말해서 두 단어이상이 모여서 하나의 의미를 나타내는 단위를 뜻합니다.</b><br>
					ex) table (테이블) - 1개의 단어 <br>
					on the table (테이블 위에) - 3개의 단어로 구성된 '구'
				</p>
			</div>
			<div class="modal-footer justify-content-center">
				<button id="start_btn" type="button" class="btn btn-danger jsAction" 
					data-dismiss="modal">START</button>
			</div>
		</div>
	</div>
</div>
<div id="stageKorInfo_modal" class="modal start-modal" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content content-container">
			<div class="modal-body text-center d-flex align-content-between flex-wrap">
				<th:block th:if="${korList != null AND #lists.size(korList) > 0}">
				<div class="stage-kor-sentence-guide">
					<div>
						이번 스테이지에서 학습할 문장들입니다.<br>
						우리말 문장을 보고 <b>영어로 말해 보세요</b>.
					</div>
					<div class="skip-button-section">
						<button class="skip-btn" type="button" data-dismiss="modal">
							SKIP <i class="fa fa-arrow-right"></i>
						</button>
					</div>
				</div>
				<div class="stageKorSentenceList stage-kor-sentence-div">
					<div class="stage-kor-sentence-guide progress-num">
						<span>1</span> / [[${#lists.size(korList)}]]
					</div>
					<div th:each="kor, iter : ${korList}" 
						class="stageKorSentence kor-sentence-div"
						th:classappend="${iter.index == 0}? 'active':''">
						<div class="sent">[[${kor}]]</div>
						<div th:if="${iter.last}" class="mobile-guide d-md-none">
							학습을 시작해 볼까요?<br>
							예문 영역을 왼쪽 방향(<i class="fa fa-arrow-left"></i>)으로 슬라이드하면<br> 
							다음 예문으로 넘길 수 있습니다.
						</div>
					</div>
				</div>
				<div class="guide-footer-section row no-gutters">
					<div class="hide-section col"></div>
					<div class="hide-section stage-kor-sentence-guide col-auto">
						학습 문장을 보고 3초 내로 말할 수 있을 때까지<br>
						지속적으로 기억 인출 연습을 해야 합니다.
					</div>
					<div class="col">
						<button id="nextKorSent" class="btn next-btn" type="button">NEXT</button>
						<button id="start_btn" type="button" 
							class="btn btn-danger btn-start-player jsAction" 
							data-dismiss="modal" style="display: none;">START</button>
					</div>
				</div>
				</th:block>
				<div class="character-section">
					<div class="bird-face-section"></div>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- title & menu -->
<div id="menuSection" th:insert="~{/playvoiceBook/incl/playvoicebook_menu2::menu}"></div>
	
	
	
<div id="playerSection" th:with="memberType= 'G'" class="playvoice-player-section">
<!--/*=====================================================================*/-->
<!--/*  					1.	playerSection PC ver. 					   */-->
<!--/*=====================================================================*/-->

<div class="d-none d-md-block">
<!-- -----------------------[1.1 스테이지 설명]--------------------------------- -->
<div class="stage-info row mt-2">
	<div class="col-xl-2 col-md-1"></div>
	<div class="col-xl-8 col-md-10 px-0">
		<h3 class="row no-gutters">
			<span class="col text-left align-self-center">
				<button type="button" data-infoName="stageObj"
					class="viewStageInfoBtn total-sent-btn btn btn-main3 btn-sm">
					<i class="fa fa-landmark fa-fw"></i>
					스테이지 목표 <i class="fa fa-caret-down"></i>
				</button>
			</span>
			<span class="stage-font col-auto align-self-center">
				<span class="mr-2">{ Level <span id="levelSeq">3</span></span>
				Stage <span id="stageSeq">15</span> }
			</span>
			<span class="col text-right align-self-center">
				<button type="button" data-infoName="totalSentences" 
					class="viewStageInfoBtn total-sent-btn btn btn-main3 btn-sm">
					<i class="fa fa-tasks fa-fw"></i>
					전체 예문 보기 <i class="fa fa-caret-down"></i>
				</button>
			</span>
		</h3>
		<div id="stageObj_div" class="stage-objective content-container"
			 style="display: none;">
			<div class="objective-text">
				동사는 크게 <b>일반 동사(do동사)</b>와 <b>be 동사</b>로 나눌 수 있습니다.<br>
				앞서 배웠던 am, are, is 등은 be 동사로 분류되고 주로 '누가(무엇) ~이다.' 로 해석되어 집니다.<br> 
				이에 반해 <b>일반 동사는 주로 '누가(무엇) ~하다'로 해석되어 집니다.</b> 대부분 주어의 동작이나 행동을 표현하는데 사용됩니다.<br>
				이때 동사는 표현을 구체화하기 위해 <b>'목적어', '보어', '부사구'</b> 등과 함께 사용할 수 있습니다. <br><br>
				이번 레벨에서는 <b>'동사+간단한 부사(구)'</b>를 함께 사용하는 문장들을 연습해 봅시다. <br><br>
				참고로 <b>'구(Phrase)'는 간단하게 말해서 두 단어이상이 모여서 하나의 의미를 나타내는 단위를 뜻합니다.</b><br>
				ex) table (테이블) - 1개의 단어 <br>
				on the table (테이블 위에) - 3개의 단어로 구성된 '구'
			</div>
		</div>
		<div id="totalSentences_div" class="stage-objective content-container"
			 style="display: none;">
			<div class="objective-text total-sentence">
				<div th:each="eng, iter : ${engList}" class="sentence-section">
					<div class="sentence-cover">
						<div class="sentence-eng" th:utext="${eng}"></div>
						<div class="sentence-kor">
							[[${korList[iter.index]}]]
						</div>
						<div class="sentence-num">[[${iter.count}]]</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!--/* -------------------------[1.2 player body]------------------------- */-->
<div id="playerBodyDiv" class="player-body-div row mb-3 mt-1">
	<!-- [이전 문장 버튼] -->
	<div class="move-next-padding col-xl-2 col-md-1 text-lg-center text-left">
		<i id="prev" class="fas fa-angle-double-left fa-4x jsAction move-sentence" 
			data-toggle="tooltip" title="이전 문장"></i>
	</div>
	
	<div class="player-cover col-xl-8 col-md-10 px-0">
		<!-- [1.2.1 플레이어 센텐스 body] -->
		<div class="sentence-area text-center px-2 pb-2">
			<div class="row">
				<!-- [국기] -->
				<div class="col-md-3 text-center">
					<img id="flag" src="/images/common/flags/US.png" style="height:45px;">
				</div>
				<!-- [진행 바] -->
				<div class="col-md-6 px-0 pt-3 text-center">
					<div class="rounded" style="width: 100%; background-color: #d8d8d8;">
						<div id="stage_progress" class="rounded bg-info" 
							style="width: 0; height: 10px; transition: width .6s ease;"></div>
					</div>
				</div>
				<!-- [종료 버튼] -->
				<div class="col-md-3 pt-2 text-center">
					<button id="closeStage_btn" type="button" class="btn btn-outline-info btn-sm jsAction">
						학습종료
					</button>
				</div>
				<div class="col-12" align="center"><hr class="division-line"></div>
			</div>
			<div class="player-sentence-info-section row">
				<!-- [보이스 성우] -->
				<div class="col-md-3 text-center align-self-center">
					<img id="actor" src="/images/app/member/profile_paper.png" 
						class="rounded-circle actor-image-frame" style="width: 70%;
						background-image: url('/images/common/characters/profile/cowboy.jpg');"><br>
					<span id="actorName" class="actor-name text-pvb">Johnny</span>
				</div>
				<div class="col-md-6 px-0 text-center align-self-center">
					<!--/* [플레이어 센텐스 출력부] */-->
					<div id="pvEng" class="sent-eng mb-4">
						<span style="color:red;">Do you want me to</span><br>
						wake you up?
						<!-- <span style="color:red;">Please wait...</span><br>
						System is building the stage. -->
					</div>
					<!--/* [플레이어 한글 출력부] */-->
					<div id="pvKor" class="sent-kor">
						<!-- 잠시만 기다려 주세요. -->
						깨워줄까?
						<!-- <span class="sentence-report">&#9135; 예문의 뜻을 생각해 보세요 &#9135;</span> -->
					</div>
				</div>
				<div class="player-adverse-section col-md-3 text-center align-self-center">
					<div class="player-adverse-cover">
						<img src="/images/common/ads/playvoicebook_player.jpg" 
							width="140px" height="170px">
					</div>
				</div>
			</div>
		</div>
		
		<!--/* [1.2.2 Player Control body] */-->
		<div class="player-control-back">
			<!--/* [플레이어 코멘트 출력부] */-->
			<div class="px-4 py-1 mb-2">
				<div id="pvComment" class="sentence-explain text-left py-2 px-4 rounded">
					<!-- * wait : 기다리다 -->
					* wake up : 잠을 깨우다, 일어나다, 정신을 차리다
				</div>
			</div>		
			<!--/* [플레이어 오디오 컨트롤러] */-->
			<div id="audio_player"><div class="audio-button-control-section row no-gutters">
				<div class="col-auto align-self-center text-left pl-3">
					<!-- play & stop -->
					<button id="play" type="button" class="btn btn-pvb-trans jsAction"  
						title="재생" data-toggle="tooltip" style="display:none">
						<i class="far fa-play-circle fa-4x fa-fw"></i>
						<div class="guide-position">재생</div>
					</button>
					<button id="stop" type="button" class="btn btn-pvb-trans jsAction"  
						title="정지" data-toggle="tooltip">
						<i class="far fa-pause-circle fa-4x fa-fw"></i>
						<div class="guide-position">정지</div>
					</button>
					
					<!-- loop -->
					<button id="chkAuto" type="button" class="btn btn-pvb btn-sm loop-button jsAction" 
						data-toggle="tooltip" title="스테이지 자동 넘김">
						stage <i class="fas fa-long-arrow-alt-right"></i>
						<div class="guide-position">스테이지 자동 넘김</div>
					</button>
					<button id="chkLoop" type="button" class="btn btn-dark btn-sm loop-button jsAction" 
						data-toggle="tooltip" title="한 스테이지 반복" style="display: none;">
						stage <i class="fas fa-sync-alt"></i>
						<div class="guide-position">한 스테이지 반복 학습</div>
					</button>
					
					<!-- restart -->
					<button type="button" title="첫 문장부터 다시 듣기" data-toggle="tooltip" 
						class="btn btn-pvb btn-sm button-gap jsAction">
						restart
						<div class="guide-position">첫 문장부터 다시 듣기</div>
					</button>
					
					<!-- play num -->
					<select id="loopNum" class="loop-num button-gap custom-select jsAction" 
						data-toggle="tooltip" title="재생횟수">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option selected value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>
					</select>
					<i id="loopNum_spninner" class="fa fa-spinner fa-spin fa-fw text-pvb" style="display: none;"></i>
				</div>
				
				<!-- 영상으로 채인지 버튼 -->
				<div class="youtube-button-section col text-right pr-3 align-self-center">
					<button id="viewYgPlayer" class="btn btn-youtube" type="button">
						<i class="fab fa-youtube fa-fw"></i> 실전 모드
						<div class="guide-position">
							<i class="forGold fa fa-crown"></i>
							스테이지 패턴을 실제 외국인의 자연스러운 말로 학습해 보세요. 
						</div>
					</button>
				</div>
				
				<!-- 코멘트 버튼 -->
				<div class="col-auto align-self-center text-right pr-3">
					<button id="send_sentence" class="btn btn-outline-pvb btn-sm jsAction border-0" 
						type="button" data-toggle="tooltip" title="Practice">
						<i class="far fa-grin-alt fa-2x fa-fw"></i>
						<div class="guide-position">Practice 댓글</div>
					</button>
					<button id="send_comment" class="btn btn-outline-pvb btn-sm jsAction border-0" 
						type="button" data-toggle="tooltip" title="QnA">
						<i class="far fa-comment-dots fa-2x fa-fw"></i>
						<div class="guide-position">QnA 댓글</div>
					</button>
				</div>
			</div></div>
		</div><!-- end of player control body -->
		
	</div>
	<!-- [이후 문장 버튼] -->
	<div class="move-next-padding col-xl-2 col-md-1 text-lg-center text-right">
		<i id="next" data-toggle="tooltip" title="다음 문장" 
			class="fas fa-angle-double-right fa-4x jsAction move-sentence"></i>
	</div>
</div>
</div><!-- end of playerSection PC ver. -->	



<!--/*=====================================================================*/-->
<!--/*						2. playerSection Mobile Ver.				   */-->
<!--/*=====================================================================*/-->
<div class="d-md-none">
<!-- ---------------------------[2.1 title info]---------------------------- -->
<div class="stage-info-cover row">
	<div class="stage-info col">
		<h3>
			<span class="level-font">
				Level <span id="levelSeq_xs">3</span>
			</span>
			<span class="stage-font">
				stage <span id="stageSeq_xs">15</span>
			</span>
		</h3>
		<!-- 진행 바 -->
		<div class="rounded" style="width: 100%; background-color: #d8d8d8;">
			<div id="stage_progress_xs" class="rounded bg-info" 
				style="width: 0; height: 8px; transition: width .6s ease;"></div>
		</div>
	</div>
	<div class="col-auto text-right align-self-center">
		<button id="closeStage_btn_xs" class="btn-mobile btn-main" 
			type="button">종료</button>
	</div>
</div><!-- end of title info -->

<!-- ---------------------------[2.2 player body]--------------------------- -->
<div id="playerBodyDivxs" class="player-cover">
	<div class="actor-section">
		<!-- 성우 이미지 -->
		<img id="actor_xs" class="actor-image-frame" 
			src="/images/app/member/profile_paper.png"
			style="background-image: url('/images/common/characters/profile/cowboy.jpg');">
	</div>
	<div class="player-notice-cover row no-gutters">
		<div class="actor-empty col-auto"></div>
		<!-- 성우 이름/ 국기 -->
		<div class="actor-detail col-auto align-self-center">
			<span id="actorName_xs" class="actor-name">Johnny</span>
			<span class="actor-flag">
				<img id="flag_xs" src="/images/common/flags/US.png">
			</span>
		</div>
		<div class="player-notice col align-self-center"></div>
	</div>
	<div id="swipe_area">
		<!--/* [2.2.1 player sentence body] */-->
		<div id="playAreaOnMobile" class="sentence-area-xs">
			<div class="button-position text-center">
				<i class="prev sent-icon fa fa-chevron-left"></i>
				<i class="next sent-icon fa fa-chevron-right"></i>
				<i class="pause-icon far fa-pause-circle" style="display: none;"></i>
				<i class="play-icon far fa-play-circle" style="display: none;"></i>
			</div>
			<div class="sentence-cover">
				<!--/* [플레이어 센텐스 출력부] */-->
				<div id="pvEng_xs" class="sent-eng text-center">
					<span>Please wait...</span><br>
					System is building the stage.
				</div>
				<!--/* [플레이어 한글 출력부] */-->
				<div id="pvKor_xs" class="sent-kor text-center">
					<!-- 잠시만 기다려주세요. -->
					<span class="sentence-report">&#9135; 예문의 뜻을 생각해 보세요 &#9135;</span>
				</div>
			</div>
			<!--/* [플레이어 코멘트 출력부] */-->
			<div id="pvComment_xs" class="sentence-explain">
				* wait : 기다리다
			</div>
			<div id="pausePlayBtn_xs" class="mobile-control-area pause-play"></div>
			<div id="prevSentBtn_xs" class="mobile-control-area prev-sent"></div>
			<div id="nextSentBtn_xs" class="mobile-control-area next-sent"></div>
		</div>
		
		<!--/* [2.2.2 player control body] */-->
		<div id="audio_player_xs" class="player-control-section"><div class="row no-gutters">
			<!-- play & stop -->
			<div class="col-auto pr-3">
				<button id="play_xs" class="btn btn-pvb-trans" 
					type="button" style="display: none;">
					<i class="fa fa-play fa-3x fa-fw"></i>
				</button>
				<button id="stop_xs" class="btn btn-pvb-trans" 
					type="button">
					<i class="fa fa-pause fa-3x fa-fw"></i>
				</button>
			</div>
			<div class="player-control-cover col text-right align-self-center">
				<!-- loop -->
				<button id="chkAuto_xs" class="button-gap btn btn-pvb btn-sm" 
					type="button">
					stage <i class="fas fa-long-arrow-alt-right"></i>
				</button>
				<button id="chkLoop_xs" class="button-gap btn btn-pvb btn-sm" 
					type="button" style="display: none;">
					stage <i class="fas fa-sync-alt"></i>
				</button>
				
				<!-- restart -->
				<button type="button" class="button-gap btn btn-pvb btn-sm button-size">
					restart
				</button>
				
				<!-- play num -->
				<select id="loopNum_xs" class="button-gap loop-num custom-select">
					<option value="1">1</option>
					<option value="2">2</option>
					<option selected value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
				</select>
			</div>
		</div></div>
	
	</div><!-- end of swipe_area -->
</div><!-- end of playerBodyDivxs -->

</div><!-- end of playerSection Tablet & Mobile ver. -->		



<!--/*=====================================================================*/-->
<!--/*							3. Video Section							*/-->
<!--/*=====================================================================*/-->
<div id="sentenceVideoSection" class="sentence-video-section mt-1" style="display: none;">

<!--/* -------------------------[3.1 player body]------------------------- */-->
<!-- for Gold and Platinum Member -->
<div id="youtubePlayerBodyDiv" class="row" th:if="${memberType} == 'G' OR ${memberType} == 'P'">
	<!-- [이전 문장 버튼] -->
	<div class="move-next-padding col-xl-2 col-md-1 text-lg-center text-left">
		<i id="prev" class="fas fa-angle-double-left fa-4x jsAction move-sentence" 
			data-toggle="tooltip" title="이전 문장"></i>
	</div>
	<div class="player-cover col-xl-8 col-md-10 px-0">
		<div class="d-none d-lg-block"><div class="row px-2">
			<!-- [아이콘] -->
			<div class="icon-section col-md-3 text-center align-self-center">
				<i class="fab fa-youtube"></i>
			</div>
			<!-- [진행 바] -->
			<div class="col-md-6 px-0 pt-3 text-center">
				<div class="rounded" style="width: 100%; background-color: #d8d8d8;">
					<div class="rounded bg-info" style="width: 0; height: 10px;"></div>
				</div>
			</div>
			<!-- [종료 버튼] -->
			<div class="col-md-3 pt-2 text-center">
				<button id="closeStage_btn" type="button" 
					class="btn btn-outline-info btn-sm jsAction">
					학습종료
				</button>
			</div>
			<div class="col-12" align="center"><hr class="division-line"></div>
		</div></div>
		<!-- [3.1.1 플레이어 body] -->
		<div class="sentence-area text-center px-2">
			<div id="widget-1"></div>
			<script>
			     var tag = document.createElement('script');
			   
			     tag.src = "https://youglish.com/public/emb/widget.js";
			     var firstScriptTag = document.getElementsByTagName('script')[0];
			     firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
			     var widget;
			     function onYouglishAPIReady(){
			       widget = new YG.Widget("widget-1", {
			         width: 700,
			         components: 4, // caption 
			         autoStart: 0,
			         captionColor: 'white',
			         markerColor: 'white',
			         title: "%20"
			       });
			       widget.fetch("Everybody hates me.", "english");
			     }
			</script>
			
		</div>
		
		<!--/* [3.1.2 Player Control body] */-->
		<div class="player-control-back video">
			<div class="px-md-4 px-2 py-1">
				<div id="pvComment" class="sentence-explain text-left py-2 px-4">
					This is <b>the way</b> I take you.
				</div>
			</div>	
			<div id="audio_player"><div class="player-control-section row no-gutters">
				<div class="col-auto align-self-center text-left pl-3">
					<!-- play & stop -->
					<button id="playYg" type="button" class="btn btn-pvb-trans jsAction"  
						title="재생" data-toggle="tooltip" style="display:none">
						<i class="far fa-play-circle fa-4x fa-fw d-none d-md-block"></i>
						<i class="fa fa-play fa-3x fa-fw d-md-none"></i>
					</button>
					<button id="stopYg" type="button" class="btn btn-pvb-trans jsAction"  
						title="정지" data-toggle="tooltip">
						<i class="far fa-pause-circle fa-4x fa-fw d-none d-md-block"></i>
						<i class="fa fa-pause fa-3x fa-fw d-md-none"></i>
					</button>
					
					<!-- loop -->
					<button id="restartYg" class="btn btn-pvb btn-sm loop-button jsAction" 
						data-toggle="tooltip" type="button" title="되감기">
						<i class="fas fa-undo fa-lg"></i>
					</button>
				</div>
				<!-- 예문학습 으로 체인지 버튼 -->
				<div class="youtube-button-section col-md d-none d-md-inline-block 
					text-right pr-3 align-self-center">
					<button id="viewPvPlayer" class="btn btn-youtube" type="button">
						<i class="fa fa-headphones-alt fa-fw"></i> 연습 모드
						<div class="guide-position">
							연습 모드로 실력을 단단하게 가꾸어 보세요.
						</div>
					</button>
				</div>
				<!-- 코멘트 버튼 -->
				<div class="col-md-auto align-self-center text-right pr-3 
					d-none d-md-inline-block">
					<button id="send_sentence" class="btn btn-outline-pvb btn-sm jsAction border-0" 
						type="button" data-toggle="tooltip" title="Practice">
						<i class="far fa-grin-alt fa-2x fa-fw"></i>
					</button>
					<button id="send_comment" class="btn btn-outline-pvb btn-sm jsAction border-0" 
						type="button" data-toggle="tooltip" title="QnA">
						<i class="far fa-comment-dots fa-2x fa-fw"></i>
					</button>
				</div>
				<!-- 다음 영상으로 넘기기 버튼 (Mobile ver.) -->
				<div class="next-video-button-section-xs col align-self-center text-right d-md-none">
					<button class="btn btn-outline-pvb btn-sm jsAction" type="button">
						<i class="fa fa-arrow-left fa-fw"></i> 이전
					</button>
					<button class="btn btn-outline-pvb btn-sm jsAction" type="button">
						다음 <i class="fa fa-arrow-right fa-fw"></i>
					</button>
				</div>
			</div></div>
		</div><!-- end of player control body -->
	</div>
	<!-- [이후 문장 버튼] -->
	<div class="move-next-padding col-xl-2 col-md-1 text-lg-center text-right">
		<i id="next" data-toggle="tooltip" title="다음 문장" 
			class="fas fa-angle-double-right fa-4x jsAction move-sentence"></i>
	</div>
</div><!-- end of playerSection PC ver. -->	


<!-- for Play and Silver Member -->
<div id="youtubePlayerBodyDiv" class="row" 
	th:unless="${memberType} == 'G' OR ${memberType} == 'P'">
	<!-- [이전 문장 버튼] -->
	<div class="move-next-padding col-xl-2 col-md-1 text-lg-center text-left">
		<i class="fas fa-angle-double-left fa-4x move-sentence"></i>
	</div>
	
	<div class="player-cover col-xl-8 col-md-10 px-0">
		<!-- [3.1.1 플레이어 센텐스 body] -->
		<div class="sentence-area none-video text-center px-2">
			<img src="/images/app/playvoiceBook/video_playvoice_book.jpg">
			<div class="video-content-info">
				<div>
					<b>'실전 모드'</b>를 통해 해당 스테이지 패턴을<br>
					실제 외국인의 자연스러운 말로 학습할 수 있습니다.<br>
					패턴 학습과 더불어 듣기 실력을 향상시켜 보세요.<br><br>
					
					<b>'실전 모드'</b>는 골드 멤버십 서비스입니다.
				</div>
				<div class="membership-btn-section">
					<a th:href="@{/membership}" class="btn btn-gold-membership">
						<i class="fa fa-crown fa-fw"></i> 골드 멤버십 더 알아보기
					</a>
				</div> 
				<div class="xs-none">
					아래의 <b>'연습 모드'</b> 버튼을 누르면<br class="d-sm-none">
					성우 음성으로 패턴을 이어서 학습할 수 있습니다.
				</div>
			</div>
		</div>
		
		<!--/* [3.1.2 Player Control body] */-->
		<div class="player-control-back video">
			<div class="audio-poistion"><div class="player-control-section row no-gutters">
				<div class="col-auto align-self-center text-left pl-3">
					<!-- play & stop -->
					<button type="button" class="btn btn-pvb-trans">
						<i class="far fa-play-circle fa-4x fa-fw d-none d-md-block"></i>
						<i class="fa fa-play fa-3x fa-fw d-md-none"></i>
					</button>
					
					<!-- loop -->
					<button type="button" class="btn btn-pvb btn-sm loop-button">
						<font size="1">all</font><i class="fas fa-undo fa-lg"></i>
					</button>
				</div>
				<!-- 예문학습 으로 체인지 버튼 -->
				<div class="youtube-button-section col-md d-none d-md-inline-block 
					text-right pr-3 align-self-center">
					<button id="viewPvPlayer" class="btn btn-youtube" type="button">
						<i class="fa fa-headphones-alt fa-fw"></i> 연습 모드
						<div class="guide-position">
							연습 모드로 실력을 단단하게 가꾸어 보세요.
						</div>
					</button>
				</div>
				<!-- 코멘트 버튼 -->
				<div class="col-md-auto align-self-center text-right pr-3 
					d-none d-md-inline-block">
					<button class="btn btn-outline-pvb btn-sm jsAction border-0" type="button">
						<i class="far fa-grin-alt fa-2x fa-fw"></i>
					</button>
					<button class="btn btn-outline-pvb btn-sm jsAction border-0" type="button">
						<i class="far fa-comment-dots fa-2x fa-fw"></i>
					</button>
				</div>
			</div></div>
		</div><!-- end of player control body -->
		
	</div>
	<!-- [이후 문장 버튼] -->
	<div class="move-next-padding col-xl-2 col-md-1 text-lg-center text-right">
		<i class="fas fa-angle-double-right fa-4x move-sentence"></i>
	</div>
</div>	

</div><!-- end of sentenceVideoSection -->


<!-- stage 목표 / 영상으로 보기 버튼 (Mobile ver.) -->
<div class="stage-info d-md-none">
	<div class="move-comment-btns row no-gutters">
		<div class="comment-btns-cover col-4">
			<button type="button" data-infoName="stageObj" 
				class="viewStageInfoBtn btn-mobile btn-main">
				<i class="fa fa-landmark fa-fw"></i>
				<span>STAGE 목표</span>
			</button>
		</div>
		<div class="comment-btns-cover col-4">
			<button type="button" data-infoName="totalSectences" 
				class="viewStageInfoBtn btn-mobile btn-main">
				<i class="fa fa-tasks fa-fw"></i>
				<span>전체 예문</span>
			</button>
		</div>
		<div class="comment-btns-cover col-4">
			<button id="viewYgPlayer_xs" type="button" 
				class="btn-mobile btn-main2 youtube">
				<i class="fab fa-youtube fa-fw"></i>
				<span>실전 모드</span>
				<i class="forGold fa fa-crown"></i>
			</button>
			<button id="viewPvPlayer_xs" type="button" 
				class="btn-mobile btn-main2 youtube" style="display: none;">
				<i class="fa fa-headphones-alt fa-fw"></i>
				<span>연습 모드</span>
			</button>
		</div>
	</div>
	<div id="stageObj_div_xs" class="stage-objective" style="display: none;">
		<div class="stage-explain">
			'Let's stop by' 패턴에 대해 학습합니다.
		</div>
	</div>
	<div id="totalSectences_div_xs" class="stage-objective" style="display: none;">
		<div class="stage-explain total-sentence">
			<div th:each="eng, iter : ${engList}" class="sentence-section">
				<div class="sentence-cover">
					<div class="sentence-eng" th:utext="${eng}"></div>
					<div class="sentence-kor">
						[[${korList[iter.index]}]]
					</div>
					<div class="sentence-num">[[${iter.count}]]</div>
				</div>
			</div>
		</div>
	</div>
</div>

	
</div><!-- end of playerSection -->




<!--/*=====================================================================*/-->
<!--/*							4. Sponsor Section							*/-->
<!--/*=====================================================================*/-->
<div class="playvoicebook-player-ad-section row no-gutters">
<div class="col-xl-2 col-md-1"></div>
<div class="playvoicebook-player-ad-cover col-xl-8 col-md-10">
	<!-- 하단 스폰서 배너 mobile -->
	<th:block th:if="${#strings.contains(#httpServletRequest.getHeader('User-Agent'),'Mobi')}">
		<img class="playvoicebook-play-bottom-ad-mobile" 
			src="/images/common/ads/320_50.jpg" width="100%" height="50px">
	</th:block>
	<!-- 하단 스폰서 배너 PC -->
	<th:block th:unless="${#strings.contains(#httpServletRequest.getHeader('User-Agent'),'Mobi')}">
		<img class="playvoicebook-play-bottom-ad-pc" 
			src="/images/common/ads/728_90.jpg" width="728px" height="90px">
	</th:block>
</div>
<div class="col-xl-2 col-md-1"></div>
</div>



<!--/*=====================================================================*/-->
<!--/*						5. Community Section							*/-->
<!--/*=====================================================================*/-->
<!-- ------------------------[5.1 프랙티스 댓글 폼 모달]---------------------------- -->
<div id="patternForm_modal" class="modal fade patternForm-modal" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document"><div class="modal-content content-container">
		<!-- 가이드 -->
		<div class="modal-head text-center">
			<h3>Comment 작성하기 <i class="far fa-grin-alt"></i></h3>
			<div class="expain pt-2" style="width: 100%;">
				자신이 일상생활에서 <span class="point-added2">자주 쓰는 말</span>을<br> 
				해당 스테이지 <span class="point-added2">패턴</span>에 맞게 작성해 보세요.
			</div>
		</div>
		<div class="modal-body py-3">
		<form>
			<!-- 영어 -->
			<div class="form-group row no-gutters">
				<label class="col-2 align-self-center pl-lg-2">영어</label>
				<div class="col-10">
					<div id="pattern_comment_eng" class="form-control" 
						data-placeholder="ex) I am a student. (모르면 생략가능)"
						contenteditable="true" onkeyup="enkeyup(this)"   
						style="height: auto; min-height: 1em;"></div>
				</div>
			</div>
			<!-- 한국어 -->
			<div class="form-group row no-gutters">
				<label class="col-2 align-self-center pl-lg-2">한국어</label>
				<div class="col-10">
					<input type="text" id="pattern_comment_kor" class="form-control" 
						placeholder="ex) 난 학생이야." />
				</div>
			</div>
			<!-- 강조 버튼 / 댓글 전송 버튼 -->
			<div class="form-group row no-gutters">
				<div class="expain col-10 ml-auto p-1 d-md-none">
					스테이지의 패턴처럼 강조하고 싶은 영역을 드래그하여 펜버튼을 눌러주세요.</div>
				<div class="w-100"></div>
				<div class="col-2"></div>
				<div class="col-auto align-self-center">
					<button type="button" class="emPen btn btn-sm btn-outline-info jsAction" >
						<i class="fas fa-pen" style="color: #5bc0de;" ></i>
					</button>
				</div>
				<div class="expain col px-1 align-self-center d-none d-md-inline">
					영어문장의 강조하고 싶은 영역을 드래그 하여 펜버튼을 눌러주세요.
				</div>
				<div class="comment-button-section ml-auto col-auto text-right">
					<input type="reset" value="CANCEL" class="btn btn-sm btn-light jsAction"
						 data-dismiss="modal" />
					<input type="button" id="addCommentBtn" value="COMMENT" 
						class="btn btn-sm btn-primary jsAction" />
				</div>
			</div><!-- end of submitDiv -->
		</form>
		</div>
	</div></div>
</div><!-- end of patternForm_modal -->

<!-- --------------------------[5.2 커뮤니티 댓글]------------------------------ -->
<div id="communitySection" class="community-section"><div class="row no-gutters">
	<div class="col-xl-2 col-md-1"></div>
	<div class="col-xl-8 col-md-10 col-12 px-0">
		<div class="community-section-cover rounded">
			<ul class="nav nav-tabs">
			<li class="nav-item">
				<a href="#patternCommentDiv" data-toggle="tab" 
					class="pattern-btn nav-link active">
					<i class="far fa-grin-alt fa-lg fa-fw"></i>
					Practice
				</a>
			</li>
			<li class="nav-item">
				<a id="navQnaBtn" href="#qnaCommentDiv" data-toggle="tab" 
					class="qna-btn nav-link">
					<i class="far fa-comment-dots fa-lg fa-fw"></i>
					QnA
				</a>
			</li>
			</ul>
			
			<div id="myTabContent" class="tab-content community-comment">
				<div id="patternCommentDiv" class="tab-pane fade show active p-3"
					th:insert="~{/common/comment2::comment}"></div>
				<div id="qnaCommentDiv" class="tab-pane fade"></div>
			</div>
		</div>
	</div>
	<div class="col-xl-2 col-md-1"></div>
</div></div><!-- end of communitySection -->

</section><!-- end of content -->
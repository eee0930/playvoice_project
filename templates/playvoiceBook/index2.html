<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"   
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{/layout/playvoicebook_layout2}">

<head>
<title>회화 연습 플레이보이스북 (PlayvoiceBook) - 플레이보이스 | Playvoice</title>
   
<!-- search console & sns meta tags -->
<th:block th:insert="~{/incl/meta_fragment2::meta}"
	th:with="metaRobot = null, metaTitle = '플레이보이스북(PlayvoiceBook) - 플레이보이스 (playvoice)', 
	metaDescription = '플레이보이스북은 영어 문장의 패턴과 구조 이해를 위한 체계화된 예문을 
	전 세계인의 멀티 보이스 (Multi voice)로 제공합니다.', 
	metaImage = '/images/common/characters/playvoicebook.jpg', metaRegDate = null"></th:block>
<!-- schema org -->	
<script type="application/ld+json">
[<th:block th:insert="~{/incl/meta_fragment2::schemaBread}"
	th:with="breadList = ${ {'/playvoiceBook'} },
	breadName = ${ {'플레이보이스북'} }"></th:block>]
</script>			
<link rel="stylesheet" th:href="@{/css/app/app_index.css}">
<!-- datepicker -->
<link rel="stylesheet" th:href="@{/css/bootstrap/datepicker3.css}">
<link rel="stylesheet" th:href="@{/css/app/playvoicebook.css}">

<script th:src="@{/js/app/masonry.pkgd.min.js}"></script>
<script th:src="@{/js/app/touchswipe/jquery.touchSwipe.min.js}"></script>
<script th:src="@{/js/common.js}"></script>
<script th:src="@{/js/app/playvoicebook.js}"></script>	   

<script th:inline="javascript">
var practicePageNo = 1;
$(document).ready(function() {

	// [practice comment masonry 정렬]-------------------------------------------
	var practiceListDiv = $('#practiceListDiv')
	practiceListDiv.masonry({
		itemSelector: '.comment-cover',
		isAnimated: !Modernizr.csstransitions
	});
	
	// [랭킹 리스트에 페이지 세팅]-------------------------------------------------------
	var rankerSize = $(".ranker-cover").length; // 랭커 수
	var currenRankPageIndex = 1;
	var rankPageLength;
	var windowWidth = $(window).width();
	if(windowWidth < 1200) {
		rankPageLength = Math.ceil(rankerSize/3);
	} else {
		rankPageLength = Math.ceil(rankerSize/4);
	}
	for(var i = 1; i <= rankPageLength; i++) {
		var page = '<span class="rank-page">' + i + '</span>';
		$(".rank-page-list").append(page);
		if(i == 1) {
			$(".rank-page").addClass("active");
		}
	}
	// [랭킹 리스트 페이지 넘기기]-------------------------------------------------------
	$(".next.ranking-slide").on("click",function(){
		var section = $(this).closest(".member-ranking-section");
		changePageNav(section, 540);
	});
	$(".prev.ranking-slide").on("click",function(){
		var section = $(this).closest(".member-ranking-section");
		changePageNav(section, -540);
	});
	$(".ranking-list").swipe( {
		swipe:function(event, direction, distance, duration, fingerCount,
					   fingerData, allowPageScroll) {
			var rankingSection = $(this).closest(".member-ranking-section");
			if(direction == "left") {
				rankingSection.find(".next.ranking-slide").click();
			} else if(direction == "right") {
				rankingSection.find(".prev.ranking-slide").click();
			}
		},
		allowPageScroll:"auto"
		//threshold:17 //슬라이드 길이
	});
	

	// [Practice 댓글 추가 불러오기]--------------------------------------------------
	$('#scrollPracticeListDiv').on("scroll", loadAdditionalReply);
	
	$(".boardOpen").click(function(){
		var boardArea = $(this).siblings(".boardArea");
		if(boardArea.is(":visible")) {
			boardArea.slideUp(100);
		} else {
			boardArea.slideDown(100);
		}
	});
	
});
/* ----------------------------------------------------------------------------- 
*							handling screen event
* --------------------------------------------------------------------------- */
/**  
 * 랭킹리스트 페이지 선택 이동<br>
 * listSection : 슬라이드 영역과 페이지번호 영역을 포함하는 Element <br>
 * moveLength : 슬라이드 영역이 이동할 거리. 오른쪽 방향이면 양수, 왼쪽 방향이면 음수 <br>
 * <br>
 * [listSection] 영역 내부의 클래스명 구조 <br>
 * 슬라이딩으로 넘겨질 영역 : .ranking-list <br>
 * 페이지번호 영역 : .rank-page-list 영역 내부 .rank-page <br>
 * 선택되는 페이지번호 : 페이지번호 영역 + .active <br>
 */
function changePageNav(listSection, moveLength) {
	if($(window).width() < 768) {
		return;
	}
	var slideArea = $(listSection).find(".ranking-list");
	slideArea.animate({
		scrollLeft :slideArea.scrollLeft() + moveLength
	}, 500);
	var pageNavigations = $(listSection).find(".rank-page-list .rank-page");
	var active = $(listSection).find(".rank-page-list .active");
	
	if(moveLength > 0){
		if(pageNavigations.index(active) < pageNavigations.length - 1) {
			active.next().addClass("active");
			active.removeClass("active");
		}
	}else{
		if(pageNavigations.index(active) > 0) {
			active.prev().addClass("active");
			active.removeClass("active");
		}
	}
};

/**
 * practice 댓글 영역에서 스크롤을 내리면
 * 스크롤 핸들러를 잠시 비활성화하고
 * 다음 댓글들을 가져옴.
 */
function loadAdditionalReply(e) { 
	$(e.target).off("scroll");
    if (e.target.scrollHeight <= e.target.scrollTop + e.target.offsetHeight + 240) { 
    	//------------------------------
    	$.ajax({
			type: 'GET',
			url: '/playvoiceBook/comment/practice/list',
			contentType:false,
			processData:false,
			success: function(appReplyList) {
				successGetPracticeCommentList(appReplyList);
			},
			error : function (xhr){
				
			}
		});
    	//------------------------------
    	practicePageNo++;
    }else{
    	$(e.target).scroll(loadAdditionalReply);
    }	
};

/**
 * practice 댓글 추가 불러오기 성공 후 
 * 현재 댓글 리스트에 추가.
 * 스크롤 핸들러 다시 활성화.
 */
function successGetPracticeCommentList(appReplyList) {
	var appReplies = "";
	
	appReplyList.forEach(function(reply, i) {
		var regDate = '2020-08-17';
		appReplies += "<div class='comment-cover px-md-2'>"
			+ "<div class='comment mt-md-2'>"
			+ "<i lang='fa' class='fa fa-quote-left'></i>"
			+ "<div class='eng'>" + reply + "</div></div>"
			+ "<div class='row no-gutters px-md-1 mx-2'><div class='col-auto'>"
			+ "<div class='member-personacon'>"
			+ "<img src='/images/app/member/profile_paper.png'"
			+ " class='personacon-profile"
			+ "' style='background: url(\"/images/app/profile/" + (i + 1) + ".jpg\")" 
			+ "no-repeat; background-position: center; background-size: cover;'>"
			+ "<img src='/images/app/member/profile_paper.png'" 
			+ " class='personacon-frame frame-G'></div></div><div class='col px-3'>"
			+ "<div class='alias'>alias" + i + "</div>"
			+ "<div class='date'>" + regDate + "</div></div></div></div>";
	});
	var $appReplies = $(appReplies);
	$("#practiceListDiv").append($appReplies).masonry('appended',$appReplies);
	$('#scrollPracticeListDiv').on("scroll", loadAdditionalReply);
}

/**
 * practice 댓글 불러오기에 실패할 경우
 * 더이상 practice 댓글 영역에서 스크롤을 내려도 댓글을 불러오기 호출을 하지 않는다.
 */
function failGetPracticeCommentList() {
	$('#scrollPracticeListDiv').off("scroll", loadAdditionalReply);
}


</script>
<style>
@font-face { 
	font-family: 'Chosunilbo_myungjo'; 
	src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/Chosunilbo_myungjo.woff') format('woff'); 
	font-weight: normal; 
	font-style: normal; 
}
</style>

</head>

<section layout:fragment="content">
<!-- title & menu -->
<div id="menuSection" class="row no-gutters"><div class="col-lg-1"></div>
	<div th:insert="~{/playvoiceBook/incl/playvoicebook_menu2::menu}" class="col-lg-10"></div>
</div>

<div id="indexContentSection"><div class="row">
<!-- /*---------------------[playvoiceBook introDiv]---------------------- */-->
<div class="col-lg-1"></div>
<div id="introDiv" class="col-lg-10">

<div class="index-animal d-md-none">
	<div class="title-cover">
		<div class="title">Welcome to <span class="pv-tm">Playvoice Book</span></div>
	</div>
	<div class="row no-gutters pt-2">
		<div class="body col-lg-9 col">
			<div class="wise-saying">
				<i class="fa fa-quote-left"></i>
				혹시나 해서 말하지만 <b>말(Language)</b>은 원래 <b>귀</b>와 <b>입</b>으로 배우는 것이다.
				<i class="fa fa-quote-right"></i>
			</div>
			<div class="from"><span class="kor">
				<span class="d-none d-sm-inline-block">- </span>
				자식에게 한번도 문법을 가르쳐 준 적이 없다는 <br class="d-sm-none">
				<b>어느 늙은 오랑우탄</b>
				<span class="d-none d-sm-inline-block"> -</span>
			</span></div>
		</div>
	</div>
	<div class="animal-image">
		<img th:src="@{'/images/app/playvoiceBook/old_oran.jpg'}"
			class="rounded-circle" alt="플레이보이스북 (PlayvoiceBook)">
	</div>		
</div>

<div class="d-none d-md-block">
<div id="introductionDiv" class="introduction-section index animal-saying row no-gutters">
	<div class="index-ment col-md-4 pr-md-2">
		Playvoice that makes English be part of your life.<br class="d-md-none d-xl-block">
		Enjoy with Playvoice members and Create your contents for study.
	</div>
	<div class="col-md-8 pt-md-0 pt-2">
		<img src="/images/app/playsquare/reading_paper.png" class="level-img"
			style="background: url('/images/common/characters/playvoicebook.jpg') no-repeat;
			background-size: cover; background-position: center; width: 100%;" 
			alt="플레이보이스북 (PlayvoiceBook)">
	</div>
	<div class="col-md-7">
		<div class="index-title">
			<div>Welcome to <span class="pv-tm">Playvoice Book</span></div>
			<div class="wise-saying">
				<i class="fa fa-quote-left"></i>
				혹시나 해서 말하지만 <b>말</b>은 원래 <b>귀</b>와 <b>입</b>으로 배우는 것이다.
				<i class="fa fa-quote-right"></i>
			</div>
			<div class="from">
				<span class="d-none d-sm-inline-block">- </span>
				자식에게 한번도 문법을 가르쳐 준 적이 없다는 <br class="d-sm-none">
				<b>어느 늙은 오랑우탄</b>
				<span class="d-none d-sm-inline-block"> -</span>
			</div>
		</div>
	</div>
</div><!-- end of introductionDiv -->
</div>

<div class="index-container">

<!-- ------------------------[PlayvoiceBook Notice]------------------------- -->
<div class="notice-board-section index-content-section">
	<h3 class="row no-gutters">
		<span class="col-auto">
			PlayvoiceBook <span class="index-text-color">Notice</span>
			<i class="fa fa-bell fa-fw" style="color: #f6aa37;"></i><br>
			<small>Don't miss the latest news about PlayvoiceBook</small>
		</span>
		<span class="col text-right align-self-end">
			<a style="font-size: 0.7em; ">더보기 <i class="far fa-arrow-alt-circle-right fa-lg"></i></a>
		</span>
	</h3>
	<div class="notice-cover">
		<div class="notice-header row no-gutters">
			<div class="title col-md-9">
				Title
			</div>
			<div class="date col-md-2 col-6">
				Date
			</div>
			<div class="view col-md-1 col-6">
				View
			</div>
		</div>
		<div class="notice-board">
			<div class="boardOpen notice-list row no-gutters">
				<div class="title col-md-9">
					<i class="fa fa-thumbtack"></i>
					<a>플레이보이스북 신규 레벨이 등록되었어요! 기다리셨던 멤버들은 어서 오라구~!</a>
				</div>
				<div class="date col-md-2 col-6">
					2019-08-17
				</div>
				<div class="view col-md-1 col-6">
					<i class="fa fa-paw"></i>
					1232
				</div>
			</div>
			<div class="boardArea" style="display: none;">
				<div id="viewArticleFormContainer" class="formContainer">
					<div class="text-center my-3" style="font-family: 'Trebuchet MS', '나눔바른고딕', '나눔명조'; 	font-size: 13pt; color:#00B4CF;">
						<i class="fa fa-quote-left fa-lg mx-2"></i>
						<span th:text="'플레이보이스북 신규 레벨이 등록되었어요! 기다리셨던 멤버들은 어서 오라구~!'">타이틀</span>
						<i class="fa fa-quote-right fa-lg mx-2"></i>
					</div>
					<div id="articleDiv" style="font-family: NanumGothic; font-size: 10pt;">
						<!-- ****************[PC ver.] -->
						<div class="d-none d-lg-block"><div class="article-info row no-gutters py-2 ">
							<h5 class="col-1 my-0 pl-2 pr-0 align-self-center">작성자 :</h5> 
							<h6 class="col-auto my-0 align-self-center">
								<th:block th:replace="~{/incl/user_personacon::sm_test}"></th:block>
							</h6>
							<h6 class="col my-0 px-2 align-self-center">
								<span class="personacon-alias" th:text="'관리자'"></span>
							</h6>
							
							<h5 class="col-1 my-0 pl-2 pr-0 align-self-center">등록일 :</h5> 
							<h6 class="col-3 my-0 px-2 align-self-center">2019-08-17</h6>
							
							<h5 class="col-1 my-0 pl-2 pr-0 align-self-center">조회수 :</h5> 
							<h6 class="col-1 my-0 px-2 align-self-center">1232</h6>
							
							<h5 class="col-1 my-0 px-2 align-self-center">
								<button id="reportBtn" class="btn btn-xs btn-warning">신고</button>
							</h5> 
						</div></div>
						<!-- ****************[Tablet & Mobile ver.] -->
						<div class="article-info row no-gutters d-lg-none">
							<div class="col-md-1 col-2 py-1 px-2">
								<th:block th:replace="~{/incl/user_personacon::sm_test}"></th:block>
							</div>
							<div class="col-md-10 col-9 py-1 px-0">
								<div class="personacon-alias my-0 px-2">관리자</div>
								<div style="font-size: 11px; color: #999;">
									<span class="my-0 px-2">2019-08-17</span>
									<span class="my-0 px-2">조회 1232</span>
								</div>
							</div>
							<div class="col-md-1 col-1 text-left p-2 btn-group" style="font-size: 20px; color: #bdbdbd;">
								<a class="dropdown-toggle" data-toggle="dropdown">
									<i class="fa fa-ellipsis-v"></i>
								</a>
								<ul class="dropdown-menu dropdown-menu-right" role="menu">
									
								</ul>
							</div>
						</div>
						
						<!-- 아티클 내용 -->
						<div class="py-4">
							<div class="article-content">
								여러분~~~!!~!~!<br>
								플보북의 새로운 스테이지가 추가되었어요!<br>
								많이많이 기다리셨죠?! ㅎㅎ <br>
								모두 열심히 학습해보자구욥!
							</div>
						</div>
					</div><!-- end of articleDiv -->
				
					<!--/* -----------------------[좋아요/삭제/편집 컨트롤 ]---------------------- */-->
					<form id="modifyForm">
						<div id="submitDiv"><div class="formGroup row mt-2">
							<div class="col-md-4 d-none d-lg-inline"></div>
							<div class="col-md-4 col-12 text-center">
								<button type="button" class="btn btn-sm btn-default" id="likeCountBtn">
									<font color="#D9544F">
										<i class="like-button fa fa-heart" style="color: #d8d8d8;"></i>
										LIKE <span id="likeCount">12</span>
									</font>
								</button>
							</div>
							
							<div class="col-md-4 text-right d-none d-lg-inline" >
								<button id="editArticleBtn" class="btn btn-sm btn-primary">
									<i class="fa fa-edit fa-fw"></i> Edit
								</button>
								<button id="deleteArticleBtn" class="btn btn-sm btn-danger">
									<i class="fa fa-trash fa-fw"></i> Delete
								</button>
							</div>
						</div></div>
					</form>
				</div>
			</div>
		</div>
		<div class="notice-list row no-gutters">
			<div class="title col-md-9">
				<a>플보북이 새단장했어요!! ;)</a>
			</div>
			<div class="date col-md-2 col-6">
				2019-08-17
			</div>
			<div class="view col-md-1 col-6">
				<i class="fa fa-paw"></i>
				1232
			</div>
		</div>
		<div class="notice-list row no-gutters">
			<div class="title col-md-9">
				<a>플보북 댓글 기능이 여러분의 의견을 수렴하여 업데이트 되었습니다.</a>
			</div>
			<div class="date col-md-2 col-6">
				2019-08-17
			</div>
			<div class="view col-md-1 col-6">
				<i class="fa fa-paw"></i>
				1232
			</div>
		</div>
		<div class="notice-list row no-gutters">
			<div class="title col-md-9">
				<a>플레이보이스북 랭커 8인을 만나다.</a>
			</div>
			<div class="date col-md-2 col-6">
				2019-08-17
			</div>
			<div class="view col-md-1 col-6">
				<i class="fa fa-paw"></i>
				1232
			</div>
		</div>
	</div>
</div>	


<!-- -------------------[PlayvoiceBook practice comment]-------------------- -->
<div class="member-practice-section index-content-section">
	<h3>
		PlayvoiceBook <span class="index-text-color">Practice</span>
		<i class="fas fa-utensils fa-fw" style="color: #f6aa37;"></i><br>
		<small>The expressions in everyday life with playvoicebook</small>
	</h3>
	<div class="practice-List-cover">
		<div id="scrollPracticeListDiv" class="practice-list"><div id="practiceListDiv">
			<div th:each="reply, iter : ${appReplyList}" class="comment-cover">
				<div class="comment">
					<i class="fa fa-quote-left"></i>
					<div class="eng" th:utext="${reply}"></div>
				</div>
				<div class="writer-section row no-gutters">
					<div class="col-auto align-self-center">
						<div class="member-personacon">
							<img src="/images/app/member/profile_paper.png"
								class="personacon-profile"
								th:style="'background: url(\'/images/app/profile/'
								+ ${iter.count} + '.jpg\') no-repeat;
								background-position: center; background-size: cover;'">
							<img src="/images/app/member/profile_paper.png" 
								class="personacon-frame frame-G">
						</div>
					</div>
					<div class="alias-section col align-self-center">
						<div class="alias" th:text="'alias' + ${iter.count}"></div>
						<div class="date">2019-08-19</div>
					</div>
				</div>
			</div></div>
			<div class="loading text-center py-3">
				<i class="fa fa-spinner fa-spin fa-3x" style="color: #27466C;"></i>
			</div>
		</div>
	</div>

</div>


<!-- -----------------------[PlayvoiceBook ranking]------------------------- -->
<div class="member-ranking-section index-content-section">
	<h3>
		PlayvoiceBook<br class="d-sm-none">
		<span class="index-text-color"><span class="kor">최다 학습 랭커</span> Top 10</span>
		<i class="fas fa-medal fa-fw" style="color: #f6aa37;"></i><br>
		<small>PlayvoiceBook Stage Top Ranker</small>
	</h3>
	
	<div class="ranking-bg">
		<div class="ranking-date text-md-right text-center">
			<i class="far fa-clock fa-fw"></i> Updated 
			<span class="date">16 June</span>
		</div>
		<div id="rankingSwipe" class="ranking-list">
			<ul class="rank-slide">
				<li th:each="num: ${#numbers.sequence(1,10)}"><div class="ranker-cover">
					<div class="rank-style">
						<div th:text="(${num} < 10) ? ('0' + ${num}) : ${num}" 
							class="rank-num-cover">01</div>
						<div class="alias">
							<div>별명[[${num}]]</div>
							<div class="info" title="좋아요 수">
								<i class="fa fa-heart"></i> 3345
							</div>
						</div>	
						<div class="personacon">
							<img src="/images/app/member/profile_paper.png" 
								th:style="'background: url(\'/images/app/profile/'+ ${num} + '.jpg\') no-repeat;
								background-size: cover; background-position: center;'">
						</div>
						<div class="buttons">
							<div title="Gold Membership">Gold</div>
							<div><i class="far fa-address-card fa-fw"></i></div>
						</div>
					</div>
				</div></li>
			</ul>
		</div>
		<div class="direction-button">
			<span class="prev ranking-slide">
				<i class="fa fa-angle-left fa-4x fa-fw"></i>
			</span>
			<span class="next ranking-slide">
				<i class="fa fa-angle-right fa-4x fa-fw"></i>
			</span>
		</div>
		
		<div class="rank-page-list pb-2 text-right"></div>	
	</div>
</div>
	
	
	
	
</div></div><!-- end of introDiv -->

</div><!-- end of indexContentSection's boundary -->
</div><!-- end of indexContentSection -->







</section><!-- end of content -->
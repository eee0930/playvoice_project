<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"   
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{/layout/pictionary_layout}">
<head>
<title>my pictionary - playvoice</title>
<link rel="stylesheet" th:href="@{/css/app/pictionary.css}">

<script th:src="@{/js/app/touchswipe/jquery.touchSwipe.min.js}"></script>
<script th:src="@{/js/app/pictionary.js}"></script>
<script th:src="@{/js/app/text.js}"></script>
<script th:inline="javascript" type="text/javascript">
$(document).ready(function() {
	// [선택한 menu active 표시]----------------------------------------------------
	$(".menu-item.study").addClass("menu-active");
	$(".alphabets .menu-item.my").addClass("menu-active");
	var offsetTab = $(".review-tab-button-section .myPctionaryList");
	offsetTab.addClass("active");
	
}); // end of ready

function movePictionary() {
	location.href="/pictionary/word/view2";
}

function movePictionary2() {
	location.href="/pictionary/word/view2";
}
</script> 

</head>

<section layout:fragment="content">

<script th:inline="javascript" type="text/javascript">
$(document).ready(function(){
	// [요청된 내용의 잘못 수정했을 시 기존 요청 내용으로 되돌리기]----------------------------------
	$(document).on("click", ".undoMeaning", function(){
		var requestOrigin = $(this).closest(".meaning").find(".reportOriginalMeanings").val();
		var reportInput = $(this).closest(".meaning").find(".reportInput");
		
		reportInput.val(requestOrigin);
	});
	
	
	// [수정 요청 반영]--------------------------------------------------------------
	$("#applyReportButton").click(function(){
		$(".reportBtnDiv").hide();
		$(".refuseCommentDiv").show();
		$(".confirmSelectOption").text("== 승인 사유 선택 ==")
	});
	
	// [수정 요청 미반영]------------------------------------------------------------
	$("#refuseReportBtn").click(function(){
		$(".reportBtnDiv").hide();
		$(".refuseCommentDiv").show();
		$(".confirmSelectOption").text("== 미승인 사유 선택 ==")
	});
	
	// [승인 or 미승인 취소 (승인 or 미승인 다시 선택하기)]------------------------------------
	$("#cancelConfirmBtn").click(function(){
		$(".reportBtnDiv").show();
		$(".refuseCommentDiv").hide();
	});
});   
   
</script>

<div class="mt-4">
<div id="editPictionSection" class="edit-pictionary-word-section admin p-0 px-lg-3">


<!-- --------------------------[1. 기존 단어 뜻]-------------------------------- -->
<div id="editWordDiv" class="add-word-container add">
	<div class="pictionary-word-section"><div class="word-cover px-md-4 px-2 py-3">
		<div class="report-owner">
			단어 작성자 : <span class="alias">[[${alias}]]</span>
		</div>
		<div class="add-word-div px-2 pb-2">
			<!-- WORD -->
			<span class="word">
				<i class="fas fa-cube fa-fw"></i>
				<span th:text="${title}"></span>
			</span>
		</div>
		<!-- 단어 뜻 -->
		<div class="origin-meaning">
			<div class="meaning row no-gutters">
				<div class="report-select-section col-lg-2 col-md-3 col-auto px-2">
					동사
				</div>
				<div class="col pb-1">
					놀다, 경기를 하다, 연주하다
				</div>
			</div>
			<div class="meaning row no-gutters">	
				<div class="report-select-section col-lg-2 col-md-3 col-auto px-2">
					타동사
				</div>
				<div class="col pb-1">
					장난을 치다, 속이다, 연기하다
				</div>
			</div>
			<div class="meaning row no-gutters">
				<div class="report-select-section col-lg-2 col-md-3 col-auto px-2">
					명사
				</div>
				<div class="col pb-1">
					놀이, 연극, 경기
				</div>
			</div>
		</div>
	</div></div>

</div><!-- end of editWordDiv -->



<!-- ---------------------------[2. 단어 수정 요청]------------------------------ -->
<div id="reportWordListDiv" class="report-word-list-section add-word-container add">
	
	<!-- 수정 요청 리스트 -->
	<div class="pictionary-word-section">
		
		<div class="reportCoverDiv word-cover px-md-4 px-2 py-3">
			<div>
				<span class="status">작성자 미확인</span>
				<span class="date ml-3">2019-10-17 (16:35)</span>
			</div> 
			<div class="report-owner row no-gutters my-3"> 
				<!-- <div class="col-auto pr-3"> 
				<th:block th:replace="~{/incl/user_personacon::user_sm}"></th:block>
				</div>-->
				<div class="col-auto pr-3 align-self-center">
					수정 요청자 : <span class="alias">[[${alias}]]</span>
				</div>
			</div>
			<div class="meaning row no-gutters">
				<div class="col-lg-2 col-3 px-2">
					<select id="meaning00" class="form-control">
						<option value="0">= 품사 =</option>
						<option value="동사" selected="selected">동사</option>
						<option disabled value="타동사">타동사</option>
						<option value="자동사">자동사</option>
						<option value="명사">명사</option>
						<option value="형용사">형용사</option>
						<option value="부사">부사</option>
						<option value="전치사">전치사</option>
					</select>
					<div class="py-2">수정 요청자<br>코멘트</div>
				</div>
				<div class="col">
					<!-- 품사 뜻 -->
					<div class="mb-1">
						<input type="text" class="reportInput form-control" value="놀다, (경기를) 하다, (악기를) 연주하다"/>
						<input type="hidden" class="reportOriginalMeanings" value="놀다, (경기를) 하다, (악기를) 연주하다"/>
					</div>
					<!-- comment -->
					<div class="report-msg">지문이 잘못된 거 같아서 수정했습니다. 수락해주시면 감사 굽신굽신</div>
				</div>
				<div class="col-lg-auto p-2">
					<i class="undoMeaning fa fa-undo" title="요청된 내용으로 되돌리기"></i>
				</div>
			</div>
			<!-- 거절 사유 입력란 -->
			<div id="refuseCommentDiv" class="refuse-comment-section meaning row no-gutters">
				<div class="report-select-section col-lg-2 col-3 px-2 py-2">
					단어 작성자<br>거절 사유
				</div>
				<div class="col">
					<div class="report-pictionary-mean h-100">그냥 맘에 안들어요</div>
				</div><div class="col-lg-auto" style="width: 29.4px"></div>
			</div>
			<div class="reportBtnDiv row no-gutters">
				<div class="col-lg-2 col-3"></div>
				<div class="col-lg-auto pt-md-2 py-2 text-center">
					<button id="applyReportButton" type="button"
						class="submit-btn btn btn-pictionary-add mr-2">수정 승인</button>
					<button id="refuseReportBtn" type="button" 
						class="btn btn-outline-pictionary">수정 미승인</button>
				</div>
			</div>
			<div class="refuseCommentDiv row no-gutters" style="display: none;">
				<div class="col-lg-2 col-3"></div>
				<div class="col-lg-6 py-2 pr-2">
					<select class="form-control">
						<option class="confirmSelectOption">== 미승인 사유 선택 ==</option>
					</select>
				</div>
				<div class="col-lg pt-md-2 py-2">
					<button type="button" class="btn btn-pictionary2">적용하기</button>
					<button id="cancelConfirmBtn" type="button" 
						class="btn btn-outline-pictionary2">취소</button>
				</div>
			</div>
			
		</div>
	</div>
</div><!-- end of reportWordListDiv -->



</div><!-- end of editPictionSection -->   

<div class="text-right" style="color:red;">
	source :: pictionary/view_wordmeaning_editrequest.html	
</div>
</div>

</section>
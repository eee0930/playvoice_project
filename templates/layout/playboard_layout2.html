<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<!-- Use of playboard_layout -->

<!-- [head 정보]============================================================ -->
<head th:fragment="headFragment">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-177620090-1"></script>
<script data-ad-client="ca-pub-7152306695077047" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	
	gtag('config', 'UA-177620090-1');
</script>
<!-- meta -->
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
<meta th:if="${#session}" name="_csrf_header" th:content="${_csrf.headerName}"/>
<meta th:if="${#session}" name="_csrf" th:content="${_csrf.token}"/>	
<title>Placevoice.org</title>
<!-- favicon -->
<link rel="shortcut icon" th:href="@{/images/logo/playvoice_favicon.ico}"> 
<link rel="icon" th:href="@{/images/logo/logo_seonbi_short.png}">
<!-- css -->
<link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap.min.css}">
<link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap-theme.min.css}">
<link rel="stylesheet" th:href="@{/fontawesome/css/all.css}">
<link rel="stylesheet" th:href="@{/css/playvoice_icon.css}">
<link rel="stylesheet" th:href="@{/css/cr.css}">
<link rel="stylesheet" th:href="@{/css/style.css}">
<link rel="stylesheet" th:href="@{/css/custom.css}">
<link rel="stylesheet" th:href="@{/css/etc.css}">
<link rel="stylesheet" th:href="@{/css/header.css}">
<link rel="stylesheet" th:href="@{/css/footer.css}">
<link rel="stylesheet" th:href="@{/css/app/playboard_header_color.css}">
<!-- js -->
<script th:src="@{/js/public/modernizr-3.6.0.min.js}"></script>
<script th:src="@{/js/public/jquery-3.3.1.min.js}"></script>
<script th:src="@{/js/public/jquery.serializejson.js}"></script>
<script th:src="@{/js/plugins.js}"></script>
<script th:src="@{/js/header.js}"></script>
<script th:src="@{/js/public/popper.min.js}"></script>
<script th:src="@{/js/public/bootstrap.min.js}"></script>
<script th:src="@{/js/common.js}"></script>

<script type="text/javascript" th:inline="javascript">
$(document).ajaxSend(function(e, jqxhr, options) {
	var ajaxloadTimer;
	// ajax 호출 시작
	ajaxloadTimer = setTimeout(function() {
		$('#playvoiceNetworkLoading').show();
	}, 2000);
	
	// ajax 종료
	jqxhr.then(function(){
		clearTimeout(ajaxloadTimer);
		$('#playvoiceNetworkLoading').hide();		
	});
	
	// post ajax 전송 시 토큰 설정
	if (options.type == "POST") {
		/*[# th:if="${#session}"]*/
		var header = $('[name="_csrf_header"]').attr('content'),
			token = $('[name="_csrf"]').attr('content');
		jqxhr.setRequestHeader(header, token);
		/*[/]*/
	}
});
$(document).ready(function() {
	// [브라우저 변경 권장]-----------------------------------------------------------
	if(navigator != null && navigator.userAgent.indexOf('Mobi') > -1
		&& navigator.userAgent.indexOf('Android') > -1
		&& navigator.userAgent.indexOf('KAKAOTALK') > -1){
		var selectBrowser = confirm('확인을 누르면 카카오톡과 앱을 동시에 사용할 수 있도록 연결해 드립니다.');
		if(selectBrowser){
			location.href='intent://'+location.host+location.pathname+location.search
						+'#Intent;scheme=https;end';
			location.href='kakaotalk://inappbrowser/close';   
		}
	}
	$(document).on('click','#headerLogout, #headerLogout_xs',function(e){
		$('#headerLogout').parent().submit();
	})
	.on('click','#headerLogin, .loginRequired',function(e){
		if($('#loginStatus').text() == 'true'){
			return;
		}else{
			e.preventDefault();
			location.href="/auth/login?destPage="+$(this).attr("href");
		}
	})
	// [Submit으로 전송 전, 텍스트 입력칸들의 내용중에서 특수유니코드 값을 ASCII 문자로 변환 ]
	.on('blur', 'textarea,:text', function(){
		var inputText = $(this).val();      
		$(this).val(replaceQuotes(inputText));
	})
	.on('focus', '[contenteditable]', function(){
		if(typeof quoteReplaceInDiv != 'function'){
			const perserveCursorJs = document.createElement('script');
			perserveCursorJs.type = 'text/javascript';
			perserveCursorJs.src = '/js/app/preserve_cursor.js';
			document.body.appendChild(perserveCursorJs);
		}
	})
	// div에서 특수유니코드 처리 후 입력 커서 원위치
	.on('input', '[contenteditable]', function(e){
	   //-------------------
	   quoteReplaceInDiv(e);
	   //-------------------
	});
	// [모바일 로고 섹션에 앱 이름 변경]---------------------------------------------------
	$("#playvoiceMobileTextLogo").hide();
	$("#playvoiceMobileAppName").text("Play Board").show();


});

</script>
</head>
<!-- [end of head 정보]====================================================== -->

<body>
<div>
	<!-- [header]=========================================================== -->
	<header th:replace="~{/incl/header2::header}" ></header>
	<div th:replace="~{/incl/nav_header2::nav_header}"></div>
	<!-- [end of header]==================================================== -->

	<div class="container"><div class="row no-gutters">
		<!--/* 1. 사이드 섹션 */-->
		<div class="col-lg-auto col-12">
			<!--/* 1.1 메뉴 섹션 */-->
			<div th:replace="~{/board/incl/playboard_menu2::playboardMenu}"></div>
		</div>
		
		<!--/* 2. 컨텐츠 섹션*/-->
		<section layout:fragment="content" class="playvoice-layout-content-section col-lg pl-lg-3"></section>
	</div></div>
	
	<!-- [footer]=========================================================== -->
	<footer th:insert="~{/incl/footer2::footer}"></footer>
	<!-- [end of footer]==================================================== -->
</div>

</body>
</html>